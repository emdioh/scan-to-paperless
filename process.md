# Configuration

## Properties

- **`images`** _(array)_: The images.
  - **Items** _(string)_
- **`args`**: Refer to _#/definitions/args_.
- **`progress`** _(boolean)_: Run in progress mode. Default: `False`.
- **`steps`** _(array)_: The carried out steps description.
  - **Items** _(object)_: Cannot contain additional properties.
    - **`name`** _(string)_: The step name.
    - **`sources`** _(array)_: The images obtain after the current step.
      - **Items** _(string)_
    - **`process_count`** _(integer)_: The step number.
- **`assisted_split`** _(array)_
  - **Items** _(object)_: Assisted split configuration. Cannot contain additional properties.
    - **`source`** _(string)_
    - **`destinations`** _(array)_
      - **Items** _(['integer', 'string'])_
    - **`image`** _(string)_
    - **`limits`** _(array)_: The (proposed) limits to do the assisted split, You should keep only the right one.
      - **Items** _(object)_: Cannot contain additional properties.
        - **`name`** _(string)_: The name visible on the generated image.
        - **`type`** _(string)_: The kind of split.
        - **`value`** _(integer)_: The split position.
        - **`vertical`** _(boolean)_: Is vertical?
        - **`margin`** _(integer)_: The margin around the split, can be used to remove a fold.
- **`transformed_images`** _(array)_: The transformed image, if removed the jobs will rag again from start.
  - **Items** _(string)_
- **`intermediate_error`** _(array)_: The ignored errors.
  - **Items** _(object)_: Cannot contain additional properties.
    - **`error`** _(string)_
    - **`traceback`** _(array)_
      - **Items** _(string)_
- **`images_config`** _(object)_: Can contain additional properties.
  - **Additional Properties** _(object)_: Cannot contain additional properties.
    - **`angle`** _(['number', 'null'])_: The used angle to deskew, can be change, restart by deleting one of the generated images.
    - **`status`** _(object)_: Cannot contain additional properties.
      - **`angle`** _(number)_: The measured deskew angle.
      - **`size`** _(array)_: The image dimensions.
        - **Items** _(number)_

## Definitions

- **`auto_mask`** _(object)_
  - **`lower_hsv_color`** _(array)_: The lower color in HSV representation. Default: `[0, 0, 250]`.
    - **Items** _(integer)_
  - **`upper_hsv_color`** _(array)_: The upper color in HSV representation. Default: `[255, 10, 255]`.
    - **Items** _(integer)_
  - **`de_noise_morphology`** _(boolean)_: Apply a morphology operation to remove noise. Default: `True`.
  - **`inverse_mask`** _(boolean)_: Inverse the mask. Default: `False`.
  - **`de_noise_size`** _(integer)_: The size of the artifact that will be de noise. Default: `1000`.
  - **`de_noise_level`** _(integer)_: The threshold level used in de noise on the blurry image. Default: `220`.
  - **`buffer_size`** _(integer)_: The size of the buffer add on the mask. Default: `20`.
  - **`buffer_level`** _(integer)_: The threshold level used in buffer on the blurry image. Default: `20`.
  - **`additional_filename`** _(string)_: An image file used to add on the mask.
- **`args`** _(object)_
  - **`level`** _(['boolean', 'integer'])_: true: => do level on 15% - 85% (under 15 % will be black above 85% will be white), false: => 0% - 100%, <number>: => (0 + <number>)% - (100 - number)%. Default: `False`.
  - **`auto_level`** _(boolean)_: If no level specified, do auto level. Default: `False`.
  - **`min_level`** _(number)_: Min level if no level end no auto-level. Default: `15`.
  - **`max_level`** _(number)_: Max level if no level end no auto-level. Default: `85`.
  - **`cut_white`** _(number)_: Set the near white pixels on the image to white. Default: `200`.
  - **`cut_black`** _(number)_: Set the near black pixels on the image to black. Default: `0`.
  - **`no_crop`** _(boolean)_: Don't do any crop. Default: `False`.
  - **`margin_horizontal`** _(number)_: The horizontal margin used on auto-detect content [mm]. Default: `9`.
  - **`margin_vertical`** _(number)_: The vertical margin used on auto-detect content [mm]. Default: `6`.
  - **`dpi`** _(number)_: The DPI used to convert the mm to pixel. Default: `300`.
  - **`sharpen`** _(boolean)_: Do the sharpen. Default: `False`.
  - **`dither`** _(boolean)_: Do the dither. Default: `False`.
  - **`tesseract`** _(boolean)_: Use tesseract to to an OCR on the document. Default: `True`.
  - **`tesseract_lang`** _(string)_: The used language for tesseract. Default: `fra+eng`.
  - **`append_credit_card`** _(boolean)_: Do an assisted split. Default: `False`.
  - **`assisted_split`** _(boolean)_: Do an assisted split. Default: `False`.
  - **`min_box_size_crop`** _(number)_: The minimum box size to find the content on witch one we will crop [mm]. Default: `3`.
  - **`min_box_black_crop`** _(number)_: The minimum black in a box on content find on witch one we will crop [%]. Default: `2`.
  - **`contour_kernel_size_crop`** _(number)_: The block size used in a box on content find on witch one we will crop [mm]. Default: `1.5`.
  - **`threshold_block_size_crop`** _(number)_: The block size used in a box on threshold for content find on witch one we will crop [mm]. Default: `1.5`.
  - **`threshold_value_c_crop`** _(number)_: A variable used on threshold, should be low on low contrast image, used in a box on content find on witch one we will crop. Default: `70`.
  - **`min_box_size_empty`** _(number)_: The minimum box size to find the content to determine if the page is empty [mm]. Default: `10`.
  - **`min_box_black_empty`** _(number)_: The minimum black in a box on content find if the page is empty [%]. Default: `2`.
  - **`contour_kernel_size_empty`** _(number)_: The block size used in a box on content find if the page is empty [mm]. Default: `1.5`.
  - **`threshold_block_size_empty`** _(number)_: The block size used in a box on threshold for content find if the page is empty [mm]. Default: `1.5`.
  - **`threshold_value_c_empty`** _(number)_: A variable used on threshold, should be low on low contrast image, used in a box on content find if the page is empty. Default: `70`.
  - **`min_box_size_limit`** _(number)_: The minimum box size to find the limits based on content [mm]. Default: `10`.
  - **`min_box_black_limit`** _(number)_: The minimum black in a box on content find the limits based on content [%]. Default: `2`.
  - **`contour_kernel_size_limit`** _(number)_: The block size used in a box on content find the limits based on content [mm]. Default: `1.5`.
  - **`threshold_block_size_limit`** _(number)_: The block size used in a box on threshold for content find the limits based on content [mm]. Default: `1.5`.
  - **`threshold_value_c_limit`** _(number)_: A variable used on threshold, should be low on low contrast image, used in a box on content find the limits based on content. Default: `70`.
  - **`colors`** _(integer)_: The number of colors in the png. Default: `0`.
  - **`run_optipng`** _(boolean)_: Run the optipng optimizer. Default: `True`.
  - **`run_pngquant`** _(boolean)_: Run the pngquant optimizer. Default: `False`.
  - **`pngquant_options`** _(array)_: The pngquant options. Default: `['--force', '--speed=1', '--strip', '--quality=0-32']`.
    - **Items** _(string)_
  - **`run_exiftool`** _(boolean)_: Run the exiftool optimizer. Default: `False`.
  - **`run_ps2pdf`** _(boolean)_: Run the ps2pdf optimizer (=> JPEG). Default: `False`.
  - **`jpeg`** _(boolean)_: Convert images to JPEG. Default: `False`.
  - **`jpeg_quality`** _(integer)_: The JPEG quality. Default: `90`.
  - **`background_color`** _(array)_: The background color. Default: `[255, 255, 255]`.
    - **Items** _(integer)_
  - **`auto_mask`**: The auto mask configuration, the mask is used to mask the image on crop and skew calculation. Refer to _#/definitions/auto_mask_.
  - **`auto_cut`**: The auto mask configuration, the mask is used to definitively mask the source image. Refer to _#/definitions/auto_mask_.
  - **`deskew`** _(object)_: The deskew configuration.
    - **`min_angle`** _(number)_: The minimum angle to detect the image skew [degree]. Default: `-10`.
    - **`max_angle`** _(number)_: The maximum angle to detect the image skew [degree]. Default: `10`.
    - **`angle_derivation`** _(number)_: The step of angle to detect the image skew [degree]. Default: `0.1`.
    - **`sigma`** _(number)_: Used in the `canny` function. Default: `3.0`.
    - **`num_peaks`** _(integer)_: number of peaks we ask for. Default: `20`.
    - **`angle_pm_90`** _(boolean)_: Detect an angle of +/- 90 degree, also +/- 45 degree. Default: `False`.
